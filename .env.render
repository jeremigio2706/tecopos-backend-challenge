# ======================================
# TECOPOS BACKEND CHALLENGE
# Render Environment Variables Template
# ======================================
# Copia estas variables a cada servicio en Render Dashboard

# ======================================
# GATEWAY SERVICE
# ======================================
# Variables de entorno para tecopos-gateway

NODE_ENV=production
PORT=3000

# URLs de servicios internos (ajustar según Render)
SSO_SERVICE_URL=https://tecopos-sso.onrender.com
ACCOUNTS_SERVICE_URL=https://tecopos-accounts.onrender.com

# Rate Limiting
RATE_LIMIT_TTL=60          # Ventana de tiempo en segundos
RATE_LIMIT_MAX=100         # Máximo de peticiones por ventana

# JWT (debe coincidir con SSO)
JWT_SECRET=                # Render puede generar esto automáticamente


# ======================================
# SSO SERVICE
# ======================================
# Variables de entorno para tecopos-sso

NODE_ENV=production
PORT=3001

# Database (Render proporciona esto automáticamente)
DATABASE_URL=              # Internal URL de PostgreSQL en Render

# JWT Configuration
JWT_SECRET=                # Mismo valor que Gateway
JWT_EXPIRES_IN=1h


# ======================================
# ACCOUNTS SERVICE
# ======================================
# Variables de entorno para tecopos-accounts

NODE_ENV=production
PORT=3002

# URLs de servicios
SSO_SERVICE_URL=https://tecopos-sso.onrender.com

# MockAPI (puedes usar la misma o crear la tuya)
MOCKAPI_URL=https://6914db823746c71fe049d9f3.mockapi.io/api/v1

# Secrets
JWT_SECRET=                # Mismo valor que Gateway y SSO
WEBHOOK_SECRET=            # Render puede generar esto automáticamente


# ======================================
# POSTGRESQL DATABASE
# ======================================
# Configuración de base de datos en Render

# Database Name: tecopos_sso
# Database User: tecopos_user
# Region: Oregon (o tu preferencia)
# Plan: Free

# IMPORTANTE: Usar "Internal Database URL" en DATABASE_URL


# ======================================
# NOTAS DE SEGURIDAD
# ======================================
# 
# 1. JWT_SECRET debe ser el MISMO en Gateway, SSO y Accounts
# 2. NUNCA commits estos valores en Git
# 3. Usa los generadores automáticos de Render para secrets
# 4. DATABASE_URL debe usar la URL interna de Render
# 5. Para producción, considera secrets más fuertes (64+ caracteres)
#
# Genera secrets fuertes con:
#   openssl rand -base64 64
#   node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
